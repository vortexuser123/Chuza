<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Happy Birthday!</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Bangers&family=Comic+Neue:wght@700&family=Fredoka+One&family=Pacifico&family=Poppins:wght@400;600&display=swap');

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            overflow: hidden;
            background: linear-gradient(to bottom, #87CEEB, #E0F7FA);
            font-family: 'Poppins', sans-serif;
            height: 100vh; width: 100vw;
            user-select: none; -webkit-user-select: none;
            touch-action: none;
        }

        /* --- BUTTONS --- */
        #start-btn {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            padding: 15px 40px; background: #ff6f61; color: white;
            border: none; border-radius: 50px; font-size: 1.5rem; font-family: 'Bangers';
            box-shadow: 0 5px 0 #d35400; cursor: pointer; z-index: 999;
            animation: pulse 1.5s infinite;
        }
        @keyframes pulse { 0% { transform: translate(-50%, -50%) scale(1); } 50% { transform: translate(-50%, -50%) scale(1.1); } }

        /* --- SCENE 1 --- */
        .floor { position: absolute; bottom: 0; width: 100%; height: 35%; background: linear-gradient(to bottom, #76c766, #5da350); border-top: 5px solid #4a8040; z-index: 1; }
        .character { position: absolute; bottom: 25%; font-size: 80px; transition: left 0.5s ease, transform 0.2s; z-index: 10; filter: drop-shadow(0 5px 5px rgba(0,0,0,0.2)); }
        #boy { left: 40%; } #girl1 { left: 65%; transform: scaleX(-1); } #sister { left: -150px; transform: scaleX(-1); }
        #speech-bubble { position: absolute; background: #fff; border: 3px solid #333; padding: 15px; border-radius: 20px; font-family: 'Comic Neue'; font-size: 1.1rem; display: none; z-index: 100; width: 200px; text-align: center; }
        #speech-bubble::after { content: ''; position: absolute; bottom: -10px; left: 50%; transform: translateX(-50%); border-width: 10px 10px 0; border-style: solid; border-color: #333 transparent; }
        #cartoon-fog { position: absolute; top: 50%; left: 50%; width: 10px; height: 10px; background: radial-gradient(circle, #f0f0f0 20%, #dcdcdc 80%); border-radius: 50%; transform: translate(-50%, -50%) scale(0); z-index: 50; opacity: 0; transition: transform 1.5s ease-out, opacity 0.5s; }
        .fighting { animation: aggressiveShake 0.1s infinite; }
        @keyframes aggressiveShake { 0% { transform: translate(2px, 1px); } 25% { transform: translate(-2px, -2px); } 50% { transform: translate(-3px, 0px); } 75% { transform: translate(3px, 2px); } 100% { transform: translate(1px, -1px); } }

        /* --- SCENE 2 --- */
        #final-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #fffdf0; display: flex; flex-direction: column; justify-content: center; align-items: center;
            opacity: 0; pointer-events: none; transition: opacity 1s, top 1s cubic-bezier(0.7, 0, 0.3, 1);
            z-index: 200;
        }
        #us-core-text { font-family: 'Bangers'; font-size: 4rem; color: #ff6b6b; text-shadow: 3px 3px 0 #333; transform: scale(0.5); filter: blur(10px); transition: all 1s; }
        #sub-text { margin-top: 20px; font-family: 'Poppins'; color: #555; font-size: 1.2rem; text-align: center; opacity: 0; transform: translateY(20px); transition: all 1s 0.5s; }

        /* --- SCENE 3 --- */
        #scrapbook-page {
            position: fixed; top: 100%; left: 0; width: 100%; height: 100%;
            background-color: #f4f1ea; background-image: radial-gradient(#d1d1d1 1px, transparent 1px); background-size: 20px 20px;
            z-index: 300; transition: top 1s cubic-bezier(0.7, 0, 0.3, 1); overflow: hidden;
        }
        .photo-stack { position: absolute; top: 50px; left: 30px; width: 160px; height: 160px; z-index: 310; }
        .polaroid {
            position: absolute; width: 100%; height: 100%; background: white; padding: 6px 6px 25px 6px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.25); transform: scale(3) rotate(0deg); opacity: 0; 
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); border: 1px solid #ddd;
        }
        .polaroid img { width: 100%; height: 100%; object-fit: cover; }
        #pin { position: absolute; top: -200px; left: 50%; width: 20px; height: 20px; z-index: 350; transition: top 0.4s ease-in; }
        #pin::before { content: ''; position: absolute; width: 20px; height: 20px; background: radial-gradient(circle at 30% 30%, #e74c3c, #c0392b); border-radius: 50%; box-shadow: 2px 2px 2px rgba(0,0,0,0.3); z-index: 2; }
        #bday-card {
            position: absolute; top: 50%; left: 50%; width: 240px; height: 240px;
            transform: translate(-50%, -50%) scale(0) rotate(-5deg); background: #fff0f6;
            border: 4px dashed #ff9a9e; border-radius: 20px; display: flex; flex-direction: column; justify-content: center; align-items: center;
            box-shadow: 0 10px 25px rgba(255, 118, 117, 0.3); transition: transform 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 305;
        }
        #bday-card h2 { font-family: 'Pacifico', cursive; color: #ff6b6b; font-size: 2rem; margin: 0; text-align: center; line-height: 1.2; }
        #bday-card span { font-family: 'Poppins'; color: #888; font-size: 0.9rem; margin-top: 5px; }
        .card-heart { position: absolute; font-size: 25px; animation: heartPulse 1s infinite alternate; }
        .h1 { top: 10px; right: 10px; transform: rotate(15deg); } .h2 { bottom: 10px; left: 10px; transform: rotate(-15deg); animation-delay: 0.5s; }
        @keyframes heartPulse { to { transform: scale(1.2); } }
        #swipe-prompt {
            position: absolute; bottom: 40px; width: 100%; text-align: center; font-size: 1.2rem; color: #555;
            opacity: 0; transition: opacity 1s; animation: bounceUp 1.5s infinite; font-weight: bold;
        }
        @keyframes bounceUp { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

        /* --- SCENE 4 --- */
        #sky-scene {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to top, #a18cd1 0%, #fbc2eb 100%);
            z-index: 400; display: none; overflow: hidden;
        }
        .balloon-obj {
            position: absolute; bottom: -200px; width: 50px; height: 70px;
            border-radius: 50%; opacity: 0.95; animation: floatUp linear forwards;
        }
        .balloon-obj::before { content: ''; position: absolute; bottom: -50px; left: 50%; width: 1px; height: 50px; background: rgba(255,255,255,0.6); }
        .tied-photo {
            position: absolute; bottom: -100px; left: 50%; transform: translateX(-50%);
            width: 50px; height: 60px; background: white; padding: 2px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2); animation: swing 2s infinite alternate ease-in-out;
        }
        .tied-photo img { width: 100%; height: 100%; object-fit: cover; }
        @keyframes floatUp { to { transform: translateY(-120vh); } }
        @keyframes swing { from { transform: translateX(-50%) rotate(10deg); } to { transform: translateX(-50%) rotate(-10deg); } }
        .confetti { position: absolute; width: 8px; height: 8px; animation: fall linear forwards; }
        @keyframes fall { to { transform: translateY(100vh) rotate(720deg); } }

        /* FIXED BUTTON ALIGNMENT */
        #wish-container {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 90%; max-width: 400px;
            display: flex; flex-direction: column; align-items: center; /* Center Children */
            opacity: 0; transition: opacity 1.5s;
        }
        #sweet-note {
            background: rgba(255,255,255,0.9); padding: 20px; border-radius: 15px;
            font-size: 1rem; color: #444; line-height: 1.5; text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin-bottom: 25px;
            width: 100%;
        }
        #secret-btn {
            position: relative; /* Normal flow */
            padding: 15px 30px; background: #6c5ce7; color: white;
            border: none; border-radius: 50px; font-weight: bold; font-family: 'Fredoka One';
            font-size: 1rem; cursor: pointer;
            box-shadow: 0 5px 15px rgba(108, 92, 231, 0.4);
            animation: pulseBtn 2s infinite;
        }
        @keyframes pulseBtn { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }

        /* --- SECRET MODAL --- */
        #secret-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); z-index: 500;
            display: none; align-items: center; justify-content: center;
        }
        #password-box { background: white; padding: 30px; border-radius: 15px; text-align: center; width: 80%; max-width: 300px; }
        #pass-input { padding: 10px; border: 2px solid #ddd; border-radius: 5px; width: 100%; margin: 15px 0; font-size: 1rem; text-align: center; }
        #error-msg { color: #ff7675; font-size: 0.9rem; display: none; margin-top: 10px; }
        
        #deep-message {
            display: none; color: white; width: 90%; height: 85%;
            overflow-y: auto; text-align: center; font-family: 'Handlee';
            font-size: 1.3rem; line-height: 1.6; padding: 10px;
        }
        #deep-message h2 { color: #ff6f61; font-family: 'Fredoka One'; margin-bottom: 20px; font-size: 2rem; }
        .footer-love { font-family: 'Pacifico'; font-size: 2.5rem; color: #ff9a9e; display: block; margin-top: 40px; margin-bottom: 20px; }

    </style>
</head>
<body>

    <audio id="bg-music" loop>
        <source src="song.mp3" type="audio/mp3">
    </audio>

    <button id="start-btn" onclick="playScene()">Tap to Start üé¨</button>

    <!-- SCENE 1 -->
    <div id="stage">
        <div class="floor"></div>
        <div id="boy" class="character">üë¶</div>
        <div id="girl1" class="character">üë±‚Äç‚ôÄÔ∏è</div>
        <div id="sister" class="character">üëß</div>
        <div id="speech-bubble"></div>
        <div id="cartoon-fog"></div>
    </div>

    <!-- SCENE 2 -->
    <div id="final-screen">
        <div id="us-core-text">US CORE</div>
        <div id="sub-text">The Chaos Duo ü§úü§õ</div>
    </div>

    <!-- SCENE 3 -->
    <div id="scrapbook-page">
        <div class="photo-stack">
            <div class="polaroid" id="p1"><img src="arya1.jpg"></div>
            <div class="polaroid" id="p2"><img src="arya4.jpg"></div>
            <div id="pin"></div>
        </div>
        <div id="bday-card">
            <div class="card-heart h1">üíñ</div>
            <div class="card-heart h2">üíñ</div>
            <h2>Happy<br>Birthday<br>Arya!</h2>
            <span>(aka Chuzu)</span>
        </div>
        <div id="swipe-prompt">Swipe Up ‚òùÔ∏è</div>
    </div>

    <!-- SCENE 4 -->
    <div id="sky-scene">
        <div id="wish-container">
            <div id="sweet-note">
                <p><strong>To My Favorite Pain in the Neck,</strong><br>
                May your day be filled with lots of cake, gifts, and zero studying. You are growing up so fast (stop it!), but you'll always be the little one I love to annoy.</p>
            </div>
            <button id="secret-btn" onclick="openSecret()">The thing I wanted to tell you... üîí</button>
        </div>
    </div>

    <!-- SECRET MODAL -->
    <div id="secret-modal">
        <div id="password-box">
            <h3>Secret Vault üîê</h3>
            <p style="color:#777; font-size:0.9rem;">Enter Password (Hint: Ur nickname give by me)</p>
            <input type="password" id="pass-input" placeholder="Password">
            <button onclick="checkPass()" style="padding:10px 25px; background:#333; color:white; border:none; border-radius:5px; cursor:pointer;">Unlock</button>
            <div id="error-msg">Wrong Password! ‚ùå</div>
        </div>

        <div id="deep-message">
            <h2>Dear Chuza,</h2>
            <p>
                I usually don't say this because it's awkward, but today is an exception. <br><br>
                You know, life changes a lot. Friends come and go, situations change, but you? You are the one constant in my life. We fight over the stupidest things, but deep down, I know you'd be the first person standing by my side.<br><br>
                Watching you grow into this amazing person makes me so proud. Keep being your crazy, loud, weird self.<br><br>
                I got your back, always.<br><br>
                <span class="footer-love">Love You Behen! ‚ù§Ô∏è</span>
            </p>
            <br>
            <button onclick="location.reload()" style="padding:12px 30px; background:white; color:#333; border:none; border-radius:30px; font-weight:bold; cursor:pointer;">Again üîÑ</button>
        </div>
    </div>

    <script>
        const boy = document.getElementById('boy');
        const girl1 = document.getElementById('girl1');
        const sister = document.getElementById('sister');
        const bubble = document.getElementById('speech-bubble');
        const fog = document.getElementById('cartoon-fog');
        const finalScreen = document.getElementById('final-screen');
        const coreText = document.getElementById('us-core-text');
        const subText = document.getElementById('sub-text');
        const startBtn = document.getElementById('start-btn');
        const audio = document.getElementById('bg-music');
        
        const scrapbook = document.getElementById('scrapbook-page');
        const p1 = document.getElementById('p1');
        const p2 = document.getElementById('p2');
        const pin = document.getElementById('pin');
        const card = document.getElementById('bday-card');
        const swipePrompt = document.getElementById('swipe-prompt');

        const skyScene = document.getElementById('sky-scene');
        const wishContainer = document.getElementById('wish-container');

        const sleep = (ms) => new Promise(r => setTimeout(r, ms));

        async function playScene() {
            startBtn.style.display = 'none';
            audio.play().catch(() => {});

            await sleep(500);
            sister.innerText = "üò†"; sister.style.left = "15%"; 
            await sleep(600);
            sister.innerText = "ü§¨"; boy.innerText = "ü§Ø"; showBubble(sister, "Oi sala kutta! tujhe chips lane bola tha na!! ü§¨");
            await sleep(2500); 
            boy.innerText = "üòÜ"; sister.innerText = "üò§"; showBubble(boy, "Kya Rey Kitti! wo paiso se to mene momo khaliye! üòÜ");
            await sleep(2500); hideBubble();
            girl1.innerText = "üò±"; girl1.style.transform = "scaleX(1)"; girl1.style.left = "120%"; 
            await sleep(600);
            boy.style.left = "45%"; sister.style.left = "35%"; sister.style.transform = "scaleX(1)"; 
            boy.innerText = "üò†"; sister.innerText = "üëø"; 
            await sleep(600);
            boy.innerText = "ü§õ"; sister.innerText = "üëä"; 
            boy.classList.add('fighting'); sister.classList.add('fighting');
            await sleep(500);
            fog.style.opacity = "1"; fog.style.transform = "translate(-50%, -50%) scale(300)"; 
            await sleep(1000);
            boy.style.opacity = "0"; sister.style.opacity = "0";
            
            finalScreen.style.opacity = "1";
            await sleep(100);
            coreText.style.transform = "scale(1)"; coreText.style.filter = "blur(0px)";
            subText.style.opacity = "1"; subText.style.transform = "translateY(0)";

            await sleep(2000); 

            finalScreen.style.top = "-100%";
            scrapbook.style.top = "0";

            await sleep(1000);
            p1.style.opacity = "1"; p1.style.transform = "scale(1) rotate(-15deg)";
            await sleep(1000);
            p2.style.opacity = "1"; p2.style.transform = "scale(1) rotate(5deg)";
            
            await sleep(500);
            pin.style.top = "5px"; 

            await sleep(600);
            card.style.transform = "translate(-50%, -50%) scale(1) rotate(-3deg)";
            
            await sleep(1000);
            swipePrompt.style.opacity = "1";

            enableSwipe();
        }

        function enableSwipe() {
            let startY = 0;
            window.addEventListener('touchstart', (e) => startY = e.touches[0].clientY);
            window.addEventListener('touchend', (e) => {
                let endY = e.changedTouches[0].clientY;
                if (startY - endY > 50) {
                    startBalloonFinale();
                }
            });
        }
        
        let finaleStarted = false;
        function startBalloonFinale() {
            if(finaleStarted) return;
            finaleStarted = true;
            
            scrapbook.style.top = "-100%";
            skyScene.style.display = "block";
            
            let count = 0;
            const colors = ['#ff7675','#74b9ff','#55efc4','#a29bfe','#fd79a8','#ffeaa7'];
            
            // --- üëá EDIT THIS LIST üëá ---
            // Add as many photos as you want here!
            const photos = [
                'arya1.jpg',
                'arya2.jpg',
                'arya3.jpg',
                'arya4.jpg',
                'arya2.png',
                'arya3.jpg' 
            ]; 
            // ---------------------------

            const interval = setInterval(() => {
                const b = document.createElement('div');
                b.className = 'balloon-obj';
                b.style.left = Math.random() * 90 + 'vw';
                b.style.backgroundColor = colors[Math.floor(Math.random()*colors.length)];
                b.style.animationDuration = (Math.random() * 2 + 4) + 's';
                
                // This logic picks a RANDOM photo from your list above
                if(Math.random() > 0.7) { // 30% of balloons will have a photo
                    const p = document.createElement('div');
                    p.className = 'tied-photo';
                    
                    // Picks a random image from your list
                    const randomImg = photos[Math.floor(Math.random() * photos.length)];
                    
                    p.innerHTML = `<img src="${randomImg}">`;
                    b.appendChild(p);
                }
                skyScene.appendChild(b);
const c = document.createElement('div');
                c.className = 'confetti';
                c.style.left = Math.random() * 100 + 'vw';
                c.style.backgroundColor = colors[Math.floor(Math.random()*colors.length)];
                c.style.animationDuration = (Math.random() * 2 + 2) + 's';
                skyScene.appendChild(c);
                
                count++;
                if(count > 60) {
                    clearInterval(interval);
                    setTimeout(() => { wishContainer.style.opacity = "1"; }, 1500);
                }
            }, 150);
        }
                // ... rest of the code (confetti) ...

        function openSecret() { document.getElementById('secret-modal').style.display = 'flex'; }
        
        function checkPass() {
            const pass = document.getElementById('pass-input').value.toLowerCase().trim();
            if(pass === "kutti" || pass === "chuza") {
                document.getElementById('password-box').style.display = 'none';
                document.getElementById('deep-message').style.display = 'block';
            } else {
                const err = document.getElementById('error-msg');
                err.style.display = 'block';
                err.style.animation = "shake 0.3s";
                setTimeout(() => err.style.animation = "", 300);
            }
        }

        function showBubble(char, text) {
            const rect = char.getBoundingClientRect();
            let leftPos = rect.left + (rect.width / 2) - 100; 
            if(leftPos < 10) leftPos = 10;
            bubble.style.left = leftPos + "px";
            bubble.style.bottom = (window.innerHeight - rect.top + 10) + "px";
            bubble.innerText = text;
            bubble.style.display = 'block';
        }
        function hideBubble() { bubble.style.display = 'none'; }

    </script>
</body>
</html>
